#### Báº¡n lÃ  dÃ¢n chuyÃªn Back End, báº¡n chÆ°a bao giá» lÃ m Front End hay báº¡n Ä‘Ã£ tá»«ng lÃ m Front End nhÆ°ng chá»‰ cho nhá»¯ng dá»± Ã¡n nhá» chá»‰ cháº¡y vÃ i thÃ¡ng, team size 5 Ä‘áº¿n 10 ngÆ°á»i ...

#### Báº¡n Ä‘Ã£ bao giá» Ä‘áº·t cÃ¢u há»i lÃ : lÃ m Front End á»Ÿ má»™t Ä‘á»™i táº§m 50+ ngÆ°á»i, dá»± Ã¡n cháº¡y trong vÃ i nÄƒm thÃ¬ ngÆ°á»i ta lÃ m nhÆ° tháº¿ nÃ o chÆ°a? pháº£i chÄƒng há» chá»‰ dÃ¹ng cÃ¡c tools Ä‘Æ°á»£c cung cáº¥p sáºµn Ä‘á»ƒ generate ra project rá»“i code vÃ  code, ... Táº¥t nhiÃªn lÃ  khÃ´ng rá»“i ğŸ˜ğŸ˜ğŸ˜

#### OK á»Ÿ loáº¡t bÃ i viáº¿t nÃ y mÃ¬nh sáº½ trÃ¬nh bÃ y, tháº£o luáº­n vá» quy trÃ¬nh phÃ¡t triá»ƒn pháº§n má»m, cÃ¡c skills, cÃ¡ch tÆ° duy mÃ  má»™t Dev Front End nÃªn cÃ³ Ä‘á»ƒ lÃ m tá»‘t cÃ´ng viá»‡c cá»§a mÃ¬nh.

# 

### ğŸ“– ChÃºng ta sáº½ Ä‘i qua tá»«ng ná»™i dung sau:
1. Khá»Ÿi táº¡o dá»± Ã¡n `ReactJS` vá»›i `Webpack`.
2. Unit Test á»Ÿ Front End vá»›i `Karma`
3. Code coverage vá»›i `Istanbul`
4. á»¨ng dá»¥ng máº«u `User Management`, Build vÃ  Deploy vá»›i `Firebase Hosting`
5. Automation Test (AUT) vá»›i Puppeteer.

Má»™t sá»‘ khÃ¡i niá»‡m báº¡n nÃªn cÃ³ trÆ°á»›c khi Ä‘á»c tiáº¿p bÃ i viáº¿t:
- [Single Page Application](https://en.wikipedia.org/wiki/Single-page_application): hay cÃ²n gá»i lÃ  SPA, Ä‘Ã¢y lÃ  má»™t khÃ¡i niá»‡m má»›i vá» phÃ¡t triá»ƒn á»©ng dá»¥ng web, khÃ¡c biá»‡t cÆ¡ báº£n vá»›i cÃ¡ch truyá»n thá»‘ng trÆ°á»›c Ä‘Ã¢y lÃ  á»Ÿ trang web SPA báº¡n sáº½ khÃ´ng tháº¥y trang bá»‹ load láº¡i khi thá»±c hiá»‡n má»™t thao tÃ¡c nÃ o Ä‘Ã³ nhÆ° trÆ°á»›c kia. Thá»±c cháº¥t má»i thao tÃ¡c cá»§a ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c thá»±c hiá»‡n á»Ÿ phÃ­a sau, ná»™i dung má»›i sáº½ Ä‘Æ°á»£c hiá»ƒn thá»‹ khi cÃ³ káº¿t quáº£ tráº£ vá» tá»« phÃ­a server.
- [NodeJS](https://en.wikipedia.org/wiki/Node.js): lÃ  má»™t ngÃ´n ngá»¯ láº­p trÃ¬nh, lÃ  mÃ´i trÆ°á»ng cháº¡y code Javascript á»Ÿ phÃ­a server.
- [ReactJS](https://en.wikipedia.org/wiki/React_(web_framework)): lÃ  má»™t framework Ä‘á»ƒ lÃ m á»©ng dá»¥ng web dáº¡ng SPA Ä‘Æ°á»£c phÃ¡t triá»ƒn bá»Ÿi Facebook.
- [Create React App](https://reactjs.org/docs/create-a-new-react-app.html): lÃ  má»™t tool Ä‘á»ƒ khá»Ÿi táº¡o á»©ng dá»¥ng SPA vá»›i ReactJS cho nhá»¯ng báº¡n má»›i lÃ m quen vá»›i ReactJS.
- [Webpack](https://webpack.js.org/): lÃ  má»™t thÆ° viá»‡n Ä‘á»ƒ Ä‘Ã³ng gÃ³i mÃ£ nguá»“n, nÃ©n mÃ£ nguá»“n, mÃ£ hÃ³a mÃ£ nguá»“n, lazy loading, ... 
- [Babel](https://en.wikipedia.org/wiki/Babel_(transcompiler)): lÃ  má»™t trÃ¬nh chuyá»ƒn Ä‘á»•i code tá»« Ä‘á»‹nh dáº¡ng cao ES6+ vá» Ä‘á»‹nh dáº¡ng tháº¥p hÆ¡n Ä‘á»ƒ cho cÃ¡c trÃ¬nh duyá»‡t cÃ³ thá»ƒ hiá»ƒu vÃ  thá»±c thi tá»‘t nháº¥t.

# ğŸŒ´ Khá»Ÿi táº¡o dá»± Ã¡n vá»›i ReactJS vÃ  Webpack
ThÃ´ng thÆ°á»ng khi báº¯t Ä‘áº§u má»™t dá»± Ã¡n ReactJS thÃ¬ báº¡n nghÄ© ngay Ä‘áº¿n cÃ¡c [tools há»— trá»£ báº¡n táº¡o dá»±](https://reactjs.org/docs/create-a-new-react-app.html#recommended-toolchains) Ã¡n ngay nhá»¯ng bÆ°á»›c Ä‘áº§u tiÃªn nhÆ°: `create-react-app`,... viá»‡c sá»­ dá»¥ng tool nÃ³ thuáº­n lá»£i cho ngÆ°á»i báº¯t Ä‘áº§u nhÆ°ng cÃ³ nhá»¯ng nhÆ°á»£c Ä‘iá»ƒm cho cÃ¡c dá»± Ã¡n lá»›n.

**Æ¯u Ä‘iá»ƒm**: NÃ³ giÃºp báº¡n táº¡o 1 dá»± Ã¡n ReactJS ráº¥t nhanh, chá»‰ má»™t dÃ²ng lá»‡nh lÃ  xong, nÃ³ sáº½ Ä‘Ã³ng gÃ³i táº¥t cáº£ nhá»¯ng thÆ° viá»‡n mÃ  tool Ä‘Ã³ cho lÃ  cáº§n thiáº¿t Ä‘á»ƒ giÃºp báº¡n báº¯t Ä‘áº§u dá»± Ã¡n, cÅ©ng nhÆ° cung cáº¥p cÃ¡c scripts Ä‘á»ƒ dev, build dá»± Ã¡n.

**NhÆ°á»£c Ä‘iá»ƒm**: Ráº¥t khÃ³ tÃ¹y biáº¿n, phá»©c táº¡p vÃ  cáº§n nhiá»u thá»i gian Ä‘á»ƒ tÃ¹y biáº¿n. Tool chá»‰ táº¡o code cho cáº¥u hÃ¬nh chung, khÃ´ng cho 1 trÆ°á»ng há»£p cá»¥ thá»ƒ nÃ o Ä‘Ã³, nÃªn Ä‘á»ƒ lÃ m cho dá»± Ã¡n cháº¡y Ä‘Æ°á»£c vá»›i mÃ´i trÆ°á»ng cÃ´ng ty, khÃ¡ch hÃ ng thÃ¬ chÃºng ta cáº§n tÃ¹y biáº¿n nhiá»u thá»© ná»¯a.

Do Ä‘Ã³ trong cÃ¡c dá»± Ã¡n lá»›n ngÆ°á»i ta thÆ°á»ng xÃ¢y dá»±ng tá»« Ä‘áº§u táº¥t cáº£ nhá»¯ng gÃ¬ há» cáº§n thay vÃ¬ dá»±a vÃ o má»™t tool nÃ o Ä‘Ã³. Pháº§n nÃ y mÃ¬nh sáº½ trÃ¬nh bÃ y cÃ¡ch dá»±ng dá»± Ã¡n ReactJS tá»« Ä‘áº§u vá»›i Webpack, má»™t trong nhá»¯ng thÆ° viá»‡n Ä‘Ã¬nh Ä‘Ã¡m trong viá»‡c Ä‘Ã³ng gÃ³i mÃ£ nguá»“n á»Ÿ thá»i Ä‘iá»ƒm viáº¿t bÃ i nÃ y. NgoÃ i Webpack ra thÃ¬ báº¡n cÅ©ng cÃ³ nhiá»u lá»±a chá»n khÃ¡c nhÆ° Browserify, Gulp, Grunt, ... báº¡n tÃ¬m hiá»ƒu thÃªm náº¿u muá»‘n.

### Khá»Ÿi táº¡o vÃ  cÃ i Ä‘áº·t thÆ° viá»‡n
```sh
# Táº¡o thÆ° má»¥c dá»± Ã¡n, khá»Ÿi táº¡o dá»± Ã¡n
cd $PROJECT_HOME
mkdir FE-UserManagement
npm init

# CÃ i Ä‘áº·t thÆ° viá»‡n webpack
# ThÆ° viá»‡n nÃ y giÃºp báº¡n Ä‘Ã³ng gÃ³i, mÃ£ hÃ³a, nÃ©n toÃ n bá»™ á»©ng dá»¥ng thÃ nh 1 / nhiá»u file nhá» Ä‘á»ƒ deploy lÃªn mÃ´i trÆ°á»ng thá»±c.
# --save-dev: cÃ³ nghÄ©a lÃ  cÃ¡c thÆ° viá»‡n nÃ y chá»‰ cÃ i Ä‘áº·t á»Ÿ mÃ´i trÆ°á»ng phÃ¡t triá»ƒn, mÃ´i trÆ°á»ng thá»±c khÃ´ng dÃ¹ng Ä‘áº¿n, cÃ¡c build tool sáº½ dá»±a
# vÃ o Ä‘Ã³ Ä‘á»ƒ biáº¿t cáº§n Ä‘Ã³ng gÃ³i nhá»¯ng thÆ° viá»‡n nÃ o.
npm i webpack webpack-cli --save-dev

# CÃ i Ä‘áº·t Babel, báº¡n cáº§n thÆ° viá»‡n nÃ y Ä‘á»ƒ chuyá»ƒn cÃ¡c mÃ£ code á»Ÿ cÃ¡c phiÃªn báº£n cao vá» ES5 vÃ  biÃªn dá»‹ch code ReactJS sang Javascript thuáº§n tÃºy.
# LÃ½ do chÃºng ta cáº§n chuyá»ƒn vá» phiÃªn báº£n ES5 lÃ  cÃ¡c trÃ¬nh duyá»‡t chÆ°a há»— trá»£ Ä‘áº§y Ä‘á»§ tÃ­nh nÄƒng cá»§a cÃ¡c phiÃªn báº£n cao hÆ¡n.
npm i @babel/core babel-loader @babel/preset-env @babel/preset-react --save-dev

# CÃ i Ä‘áº·t thÆ° viá»‡n ReactJS
# --save: cÃ³ nghÄ©a lÃ  báº¡n cáº§n thÆ° viá»‡n nÃ y khi cháº¡y thá»±c, yÃªu cáº§u cÃ¡c thÆ° viá»‡n Ä‘Ã³ng gÃ³i kÃ¨m theo thÆ° viá»‡n nÃ y.
npm i react react-dom -save

# CÃ i plugins cho webpack, webpack cÃ³ ráº¥t nhiá»u plugins Ä‘i cÃ¹ng, Ä‘Ã¢y chá»‰ lÃ  má»™t trong nhá»¯ng thá»© Ä‘Ã³
npm i html-webpack-plugin --save-dev

# ThÆ° viá»‡n nÃ y dÃ¹ng Ä‘á»ƒ khá»Ÿi táº¡o server á»Ÿ local. Server á»Ÿ phÃ­a mÃ´i trÆ°á»ng DEV lÃ  báº¯t buá»™c trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn dá»± Ã¡n, 
# nÃ³ sáº½ giÃºp chÃºng ta táº¡o 1 server táº¡m nhÆ° mÃ´i trÆ°á»ng thá»±c, deploy code vÃ  giÃºp chÃºng ta cÃ³ thá»ƒ xem Ä‘Æ°á»£c code cá»§a mÃ¬nh hoáº¡t 
# Ä‘á»™ng nhÆ° tháº¿ nÃ o
npm i webpack-dev-server --save-dev

# CÃ i cÃ¡c bá»™ loader khÃ¡c cho webpack Ä‘á»ƒ Ä‘á»c file css, scss, img, html, ... báº¡n cáº§n gÃ¬ thÃ¬ cá»© thÃªm vÃ o
npm i style-loader css-loader sass-loader node-sass --save-dev
```
Tips:
> á» Ä‘Ã¢y mÃ¬nh tÃ¡ch ra tá»«ng lá»‡nh Ä‘á»ƒ tiá»‡n giáº£i thÃ­ch, báº¡n cÃ³ thá»ƒ gom cÃ¡c thÆ° viá»‡n vÃ o cÃ¹ng má»™t cÃ¢u lá»‡nh install Ä‘á»ƒ Ä‘á»¡ máº¥t thá»i gian.

OK viá»‡c cÃ i Ä‘áº·t nhÆ° váº­y lÃ  táº¡m Ä‘á»§ rá»“i bÃ¢y giá» mÃ¬nh cáº¥u hÃ¬nh cho nÃ³ cháº¡y nhÃ©:

#### Cáº¥u hÃ¬nh Babel:
Viá»‡c cáº¥u hÃ¬nh Babel khÃ¡ Ä‘Æ¡n giáº£n, báº¡n táº¡o 1 file `.babelrc` á»Ÿ thÆ° má»¥c gá»‘c cá»§a dá»± Ã¡n $PROJECT_HOME vá»›i ná»™i dung sau
```json
{
    "presets": [
        "@babel/env",
        "@babel/react"
    ]
}
```

#### Cáº¥u hÃ¬nh webpack:
File cáº¥u hÃ¬nh chÃ­nh cá»§a webpack lÃ  `webpack.config.js`, báº¡n táº¡o ra file nÃ y vÃ  Ä‘áº·t ngay thÆ° má»¥c $PROJECT_HOME cá»§a dá»± Ã¡n vá»›i ná»™i dung sau
```javascript
const HtmlWebPackPlugin = require("html-webpack-plugin");
const { CleanWebpackPlugin } = require('clean-webpack-plugin');
const path = require('path');

module.exports = {
    // Äiá»ƒm báº¯t Ä‘áº§u Ä‘á»ƒ webpack phÃ¢n tÃ­ch thÆ° viá»‡n, code, ... cá»§a dá»± Ã¡n
    entry: "./src/index.js",
  
    // CÃ i Ä‘áº·t Ä‘áº§u ra cá»§a dá»± Ã¡n khi cháº¡y build
    output: {
        path: path.resolve(__dirname, './dist'),
        filename: 'bundle.js'
    },

    // test há»— trá»£ regex Ä‘á»ƒ báº¡n viáº¿t query
    module: {
        rules: [
            // CÃ i Ä‘áº·t nÃ y nghÄ©a lÃ  sáº½ dÃ¹ng thÆ° viá»‡n babel-loader Ä‘á»ƒ Ä‘á»c cÃ¡c file js vÃ  jsx
            {
                test: /\.(js|jsx)$/i,
                exclude: /node_modules/,
                use: {
                    loader: "babel-loader"
                }
            },
            
            // CÃ¡c file css vÃ  scss thÃ¬ dÃ¹ng css-loader vÃ  sass-loader
            {
                test: /\.(css|s[ac]ss)$/i, 
                use: [
                    'style-loader',
                    {
                        loader: "css-loader",
                        options: {
                            modules: true
                        }
                    },
                    {
                        loader: 'sass-loader',
                        options: {
                          implementation: require('node-sass'),
                        },
                    }
                ]
            },
            
            // CÃ¡c file html thÃ¬ dÃ¹ng html-loader
            {
                test: /\.html$/,
                use: [
                    {
                        loader: "html-loader"
                    }
                ]
            }
        ]
    },

    // Khai bÃ¡o cÃ¡c plugins cho webpack biáº¿t
    plugins: [
        new CleanWebpackPlugin(),
        new HtmlWebPackPlugin({
            template: "./src/index.html",
            filename: "./index.html"
        })
    ]
};
```

#### ThÃªm scripts vÃ o `package.json`
```json
"scripts": {
    "start": "webpack-dev-server --mode development",
    "build": "webpack --mode production"
}
```
- `start`: DÃ¹ng Ä‘á»ƒ cháº¡y server phÃ­a local, nÃ³ sáº½ tá»± Ä‘á»™ng biÃªn dá»‹ch, deploy mÃ£ nguá»“n vÃ  server táº¡m cho báº¡n kiá»ƒm thá»­
- `build`: DÃ¹ng Ä‘á»ƒ Ä‘Ã³ng gÃ³i dá»± Ã¡n cháº¡y á»Ÿ mÃ´i trÆ°á»ng thá»±c, cÃ¡c file sáº½ Ä‘Æ°á»£c mÃ£ hÃ³a, nÃ©n, ... bá»Ÿi webpack

OK vá» cáº¥u hÃ¬nh báº¡n cáº§n váº­y lÃ  Ä‘á»§, báº¡n thá»­ táº¡o ra má»™t file `src/index.js` rá»“i cháº¡y thá»­ xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ o nhÃ©, hoáº·c báº¡n cÃ³ thá»ƒ clone bÃ i máº«u á»Ÿ Ä‘Ã¢y
```
cd $PROJECT_HOME

git clone --single-branch --branch InitWebpack https://github.com/lapth/FE-User-Management.git

cd FE-User-Management
```

#### Cháº¡y thá»­ á»Ÿ local
```sh
npm run start
```
Sau khi cháº¡y server xong báº¡n báº­t browser á»Ÿ Ä‘á»‹a chá»‰ [http://localhost:8080/](http://localhost:8080/) Ä‘á»ƒ xem káº¿t quáº£, nÃ³ nhÆ° tháº¿ nÃ y
![](https://usermanagement-sample.firebaseapp.com/images/InitProject_Local_UI.png)

**Tips**
> Náº¿u báº¡n muá»‘n tá»± báº­t Browser thÃ¬ thÃªm tham sá»‘ `--open`
> Náº¿u báº¡n muá»‘n chá»‰ rebuild nhá»¯ng module Ä‘Æ°á»£c thay Ä‘á»•i thÃ´i thÃ¬ thÃªm tham sá»‘ `--hot`

#### Build á»©ng dá»¥ng
```sh
npm run build
```
CÃ¡c file output sáº½ Ä‘Æ°á»£c táº¡o ra trong thÆ° má»¥c `dist`, nÃ³ nhÆ° tháº¿ nÃ y:
![](https://usermanagement-sample.firebaseapp.com/images/InitProject_Local_Build.png)

ğŸ¤ ğŸ¤ ğŸ¤  OK quÃ¡ trÃ¬nh khá»Ÿi táº¡o dá»± Ã¡n vá»›i webpack táº¡m thá»i hoÃ n thÃ nh ğŸ¤ ğŸ¤ ğŸ¤ 

# ğŸŒ´ Unit Test á»Ÿ Front End vá»›i Karma
Láº¡i lÃ  Unit Test ğŸ˜‚ğŸ˜‚ğŸ˜‚, mÃ¬nh giÃ¡m cháº¯c hÆ¡n 50% báº¡n Ä‘á»c bÃ i nÃ y Ä‘á»u ghÃ©t cay ghÃ©t Ä‘áº¯ng UT. MÃ¬nh cÅ©ng tá»«ng nhÆ° váº­y, 5 nÄƒm Ä‘áº§u Ä‘á»i nghá» lÃ m Dev mÃ¬nh cÅ©ng ráº¥t ghÃ©t UT, sau 5 nÄƒm thÃ¬ khÃ´ng cÃ²n ghÃ©t ná»¯a vÃ¬ nÃ³ lÃ  viá»‡c pháº£i lÃ m ğŸ¤£ğŸ¤£ğŸ¤£.

**Ok váº­y UT lÃ  cÃ¡i thá»© gÃ¬:**
- NÃ´m na nÃ³ lÃ  1 Ä‘oáº¡n code Ä‘á»ƒ test cÃ¡c chá»©c nÄƒng mÃ¬nh Ä‘Ã£ lÃ m ra.
> VÃ­ dá»¥: báº¡n viáº¿t 1 hÃ m Ä‘á»ƒ in chá»¯ "Hello World", lÃ m sao báº¡n giÃ¡m cháº¯c hÃ m Ä‘Ã³ cháº¡y Ä‘Ãºng mÃ  khÃ´ng pháº£i cháº¡y thá»­ á»©ng dá»¥ng Ä‘á»ƒ kiá»ƒm tra, chá»‰ cÃ³ thá»ƒ thÃ´ng qua UT.
- UT lÃ  code Ä‘á»ƒ test cho tá»«ng Ä‘Æ¡n vá»‹ (unit) code nhá» nháº¥t mÃ¬nh Ä‘Ã£ táº¡o ra.
> VÃ­ dá»¥: báº¡n táº¡o ra má»™t class, 1 file js, ... trong Ä‘Ã³ cÃ³ nhiá»u hÃ m khÃ¡c nhau, thÃ¬ UT lÃ  code Ä‘á»ƒ test Ä‘á»™c láº­p tá»«ng hÃ m trong file Ä‘Ã³, UT khÃ´ng cho phÃ©p báº¡n test má»™t hÃ m mÃ  hÃ m Ä‘Ã³ váº«n cÃ²n phá»¥ thuá»™c (depended) vÃ o 1 há»“m khÃ¡c.
- UT Ä‘á»ƒ Ä‘áº£m báº£o code cá»§a mÃ¬nh cháº¡y Ä‘Ãºng nhÆ° mÃ¬nh mong muá»‘n trÆ°á»›c khi chuyá»ƒn qua cÃ¡c giai Ä‘oáº¡n khÃ¡c nhÆ° Deployment, Manual test, ... thÆ°á»ng sáº½ tá»‘n ráº¥t nhiá»u thá»i gian Ä‘á»ƒ sá»­a lá»—i mÃ  báº¡n Ä‘Ã£ táº¡o ra so vá»›i UT.
- UT lÃ  Ä‘á»ƒ má»™t ngÆ°á»i nÃ o Ä‘Ã³ sau khi vÃ o báº£o trÃ¬ (maintain) sáº£n pháº©m cá»§a báº¡n, dÃ¹ khÃ´ng hiá»ƒu háº¿t cÃ¡c chá»©c nÄƒng báº¡n Ä‘Ã£ viáº¿t lÃ  gÃ¬, nhÆ°ng váº«n giÃ¡m cháº¯c chá»©c nÄƒng má»›i mÃ  ngÆ°á»i Ä‘Ã³ viáº¿t khÃ´ng lÃ m há»ng cÃ¡c chá»©c nÄƒng mÃ  báº¡n viáº¿t.
- UT lÃ  Ä‘á»ƒ kiá»ƒm thá»­ cÃ¡c trÆ°á»ng há»£p mÃ  ráº¥t khÃ³ khÃ³ khÃ³ phÃ¡t hiá»‡n á»Ÿ mÃ´i trÆ°á»ng thá»±c. Vá»›i UT báº¡n sáº½ táº¡o nhá»¯ng code giáº£, dá»¯ liá»‡u giÃ£ Ä‘á»ƒ kiá»ƒm thá»­ cÃ¡c chá»©c nÄƒng nhÆ° váº­y thay vÃ¬ Ä‘á»£i dá»¯ liá»‡u thá»±c Ä‘á»ƒ xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ o.
- ... vÃ  cuá»‘i cÃ¹ng UT lÃ  Ä‘á»ƒ cáº£i láº¡i vá»›i Dev khÃ¡c, code mÃ¬nh lÃ m ra hoÃ n toÃ n Ä‘Ãºng nhÆ° ká»‹ch báº£n ğŸ˜˜